<div class="h-screen">
    <div class="container">
        <!-- Reset Card -->
        <div class="w-1/3 p-8 mt-16 mx-auto justify-center
            rounded-3xl
            border border-gray-100 dark:border-zinc-800
            shadow-lg
            animate-slide-up-fast">
            <div class="flex flex-col justify-center items-center">
                <!-- Header -->
                <h1 class="pb-4 text-xl
                    font-bold
                    text-slate-600 dark:text-white">
                    Password Reset
                </h1>
                @if (!token) {
                <!-- Form -->
                <form [formGroup]="emailForm" class="flex flex-col
                    animate-slide-up-fast-d-0.2s">
                    <!-- Email -->
                    <input id="email" type="email" formControlName="email" placeholder="your@email.com" class="w-full p-1.5 mb-1
                        bg-gray-100 dark:bg-zinc-800
                        text-slate-600 dark:text-white
                        placeholder:text-gray-300 dark:placeholder:text-zinc-600
                        border border-gray-200 dark:border-zinc-700
                        focus:ring focus:ring-gray-100 dark:focus:ring-zinc-800
                        focus:outline-none
                        text-sm
                        rounded-md" [ngClass]="{
                            'border-red-500 dark:border-red-500': email?.invalid && (email?.dirty || email?.touched)
                        }">

                    @if (email?.invalid && (email?.dirty || email?.touched)) {
                    @if (email?.hasError('required')) {
                    <p class="text-xs
                        text-red-500">Required</p>
                    }
                    @if (email?.hasError('email')) {
                    <p class="text-xs
                        text-red-500">Not a valid email</p>
                    }
                    }

                    <!-- Submit Button -->
                    <button type="submit" [disabled]="!emailForm.valid" (click)="resetPassword(email!.value)" class="w-full p-2 mt-4
                        bg-slate-600 dark:bg-white
                        disabled:opacity-50
                        text-white dark:text-zinc-900
                        text-lg
                        rounded-md">
                        Send Reset Email
                    </button>
                </form>
                }
            </div>
        </div>

        <!-- Toast -->
        @if (toastVisible) {
        <shared-toast [type]="toastType" [message]="toastMessage" [duration]="toastDuration"
            (toastClosed)="onToastClosed()"
            class="flex justify-center mt-8"></shared-toast>
        }
    </div>
</div>